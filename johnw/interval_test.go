package main

import (
	"testing"
)

func checkResult(t *testing.T, expected [][]int, output [][]int) {
	for i := 0; i < len(expected); i++ {
		if i > len(output) {
			t.Fatalf("Expected: %v. Got: %v", expected, output)
		}
		if expected[i][0] != output[i][0] || expected[i][1] != output[i][1] {
			t.Fatalf("Expected: %v. Got: %v", expected, output)
		}
	}
}
func TestIntervals1(t *testing.T) {
	intervals := [][]int{{1, 2}, {3, 8}, {4, 5}, {1, 7}}
	expected := [][]int{{1, 8}}

	output := merge(intervals)

	checkResult(t, expected, output)
}

func TestIntervals2(t *testing.T) {
	intervals := [][]int{{1, 2}}
	expected := [][]int{{1, 2}}

	output := merge(intervals)
	checkResult(t, expected, output)
}

func TestIntervals3(t *testing.T) {
	intervals := [][]int{{15, 18}, {2, 6}, {8, 10}, {1, 3}}
	expected := [][]int{{1, 6}, {8, 10}, {15, 18}}

	output := merge(intervals)
	checkResult(t, expected, output)
}

func TestIntervals4(t *testing.T) {
	intervals := [][]int{
		{1, 3}, {2, 5}, {6, 8}, {7, 10}, {9, 12},
		{11, 15}, {14, 18}, {16, 20}, {19, 22}, {21, 25},
		{23, 28}, {26, 30}, {29, 33}, {32, 36}, {35, 40},
		{37, 42}, {41, 45}, {44, 48}, {46, 50}, {49, 53},
		{51, 55}, {54, 58}, {57, 62}, {60, 65}, {63, 68},
		{66, 70}, {69, 74}, {72, 77}, {75, 80}, {78, 83},
		{81, 86}, {84, 89}, {87, 92}, {90, 95}, {93, 98},
		{96, 100}, {5, 104}, {102, 107}, {105, 110}, {108, 113},
		{111, 116}, {114, 119}, {117, 122}, {120, 125}, {123, 128},
		{126, 131}, {129, 134}, {132, 137}, {135, 140}, {138, 143},
		{141, 146}, {144, 149}, {147, 152}, {150, 155}, {153, 158},
		{156, 161}, {159, 164}, {162, 167}, {165, 170}, {168, 173},
		{171, 176}, {174, 179}, {177, 182}, {180, 185}, {183, 188},
		{186, 191}, {189, 194}, {192, 197}, {195, 200}, {198, 203},
		{201, 206}, {20, 50}, {207, 212}, {210, 215}, {213, 218},
		{216, 221}, {219, 224}, {222, 227}, {225, 230}, {228, 233},
		{231, 236}, {234, 239}, {237, 242}, {240, 245}, {243, 248},
		{246, 251}, {249, 254}, {252, 257}, {255, 260}, {258, 263},
		{261, 266}, {264, 269}, {267, 272}, {270, 275}, {273, 278},
	}
	expected := [][]int{{1, 206}, {207, 278}}

	output := merge(intervals)
	checkResult(t, expected, output)
}

func TestIntervals5(t *testing.T) {
	intervals := [][]int{}
	expected := [][]int{}

	output := merge(intervals)
	checkResult(t, expected, output)
}

func BenchmarkIntervals4(b *testing.B) {
	intervals := [][]int{
		{1, 3}, {2, 5}, {6, 8}, {7, 10}, {9, 12},
		{11, 15}, {14, 18}, {16, 20}, {19, 22}, {21, 25},
		{23, 28}, {26, 30}, {29, 33}, {32, 36}, {35, 40},
		{37, 42}, {41, 45}, {44, 48}, {46, 50}, {49, 53},
		{51, 55}, {54, 58}, {57, 62}, {60, 65}, {63, 68},
		{66, 70}, {69, 74}, {72, 77}, {75, 80}, {78, 83},
		{81, 86}, {84, 89}, {87, 92}, {90, 95}, {93, 98},
		{96, 100}, {5, 104}, {102, 107}, {105, 110}, {108, 113},
		{111, 116}, {114, 119}, {117, 122}, {120, 125}, {123, 128},
		{126, 131}, {129, 134}, {132, 137}, {135, 140}, {138, 143},
		{141, 146}, {144, 149}, {147, 152}, {150, 155}, {153, 158},
		{156, 161}, {159, 164}, {162, 167}, {165, 170}, {168, 173},
		{171, 176}, {174, 179}, {177, 182}, {180, 185}, {183, 188},
		{186, 191}, {189, 194}, {192, 197}, {195, 200}, {198, 203},
		{201, 206}, {20, 50}, {207, 212}, {210, 215}, {213, 218},
		{216, 221}, {219, 224}, {222, 227}, {225, 230}, {228, 233},
		{231, 236}, {234, 239}, {237, 242}, {240, 245}, {243, 248},
		{246, 251}, {249, 254}, {252, 257}, {255, 260}, {258, 263},
		{261, 266}, {264, 269}, {267, 272}, {270, 275}, {273, 278},
	}
	merge(intervals)
}
